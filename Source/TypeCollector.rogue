module Boss

class TypeCollector : Visitor [singleton]
  METHODS
    method on_visit( cmd:Class )->Cmd
      Program.current_module.define_type( cmd )
      visit_children( cmd )
      return null

    method on_visit_node( cmd:SetModuleContext )
      Program.current_module = Module( cmd.t, cmd.name )

endClass
